<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="purchase_order_report_template">
        <t t-name="ft_backend.purchase_order_report_template">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.html_container">
                    <t t-call="web.external_layout">
                        <style>
                            .po-report table {
                                border-collapse: collapse;
                                width: 100%;
                            }
                            .po-report td, .po-report th {
                                border: 1px solid #000;
                                padding: 10px !important;
                                padding-left: 10px !important;
                                padding-right: 10px !important;
                                vertical-align: top;
                                line-height: 1.4;
                            }
                            .po-report .no-border td, .po-report .no-border th {
                                border: none !important;
                                padding: 10px !important;
                                padding-left: 10px !important;
                                padding-right: 10px !important;
                            }
                            .po-report .red {
                                background-color: #ff0000;
                                color: #fff;
                            }
                            .po-report .center {
                                text-align: center;
                            }
                            .po-report .right {
                                text-align: right;
                            }
                            .po-report .header-title {
                                color: #d00;
                                font-weight: bold;
                                text-decoration: underline;
                                font-size: 16px;
                            }
                            .po-report .arabic {
                                direction: rtl;
                                text-align: right;
                                font-weight: bold;
                            }
                            .po-report .label {
                                font-weight: bold;
                            }
                            .po-report .ship-name {
                                color: #d00;
                                font-weight: bold;
                            }
                            .po-report .totals td {
                                border: none;
                                padding: 4px 6px;
                            }
                            .po-report .total-highlight {
                                background-color: #9bd3f0;
                                font-weight: bold;
                                min-width: 90px;
                            }
                        </style>

                        <div class="page po-report" style="font-size:12px;">
                            <!-- ================= HEADER ================= -->
                            <table class="no-border">
                                <tr>
                                    <td class="header-title">ENERGY SERVICES LTD. CO.</td>
                                    <td class="header-title arabic">شركة الخدمات الطاقه المحدوده</td>
                                </tr>
                            </table>

                            <table class="no-border" style="margin-top:6px;">
                                <tr>
                                    <td style="width:50%;">
                                        Al Dammam 1174, 2nd Industrial<br/>
                                        City,2950(PC: 34327)Buqayq Main<br/>
                                        Road, Kingdom of Saudi Arabia<br/>
                                        Tel: +966-
                                    </td>
                                    <td style="width:50%;">
                                        <span class="label">Order Date:</span>
                                        <span t-field="o.date_order" t-options='{"widget": "date"}'/><br/>
                                        <span class="label">PO:</span>
                                        <t t-esc="o.name"/>
                                    </td>
                                </tr>
                            </table>

                            <br/>

                            <!-- ================= VENDOR / SHIP TO ================= -->
                            <table>
                                <tr>
                                    <th class="red center" style="width:50%;">VENDOR</th>
                                    <th class="red center" style="width:50%;">SHIP TO</th>
                                </tr>
                                <tr>
                                    <td>
                                        <span class="label">Name:</span>
                                        <t t-esc="o.partner_id.name"/><br/>
                                        <span class="label">Address:</span>
                                        <t t-esc="o.partner_id.street or ''"/>
                                        <t t-if="o.partner_id.street2">
                                            , <t t-esc="o.partner_id.street2"/>
                                        </t>
                                        <t t-if="o.partner_id.city">
                                            , <t t-esc="o.partner_id.city"/>
                                        </t>
                                        <t t-if="o.partner_id.state_id">
                                            , <t t-esc="o.partner_id.state_id.name"/>
                                        </t>
                                        <t t-if="o.partner_id.zip">
                                            , <t t-esc="o.partner_id.zip"/>
                                        </t>
                                        <t t-if="o.partner_id.country_id">
                                            , <t t-esc="o.partner_id.country_id.name"/>
                                        </t><br/>
                                        <span class="label">Contact:</span>
                                        <t t-esc="o.partner_id.phone or o.partner_id.mobile or ''"/><br/>
                                        <span class="label">VAT/Tax ID:</span>
                                        <t t-esc="o.partner_id.vat or ''"/>
                                    </td>
                                    <td>
                                        <span class="ship-name">Energy Services Ltd. Co.</span><br/>
                                        Al Dammam 1174, 2nd Industrial<br/>
                                        City,2950(PC: 34327)Buqayq Main<br/>
                                        Road, Kingdom of Saudi Arabia<br/>
                                        <span class="label">Phone:</span> +966-<br/>
                                        <span class="label">Email:</span> s.thomas@mses.energy<br/>
                                        <span class="label">VAT:</span> 310316882900003
                                    </td>
                                </tr>
                            </table>

                            <br/>

                            <!-- ================= TERMS ================= -->
                            <table>
                                <tr class="red center">
                                    <th style="width:25%;">Quotation Ref</th>
                                    <th style="width:25%;">Ship Via</th>
                                    <th style="width:25%;">Delivery Terms</th>
                                    <th style="width:25%;">Payment Terms</th>
                                </tr>
                                <tr>
                                    <td><t t-esc="o.partner_ref or ''"/></td>
                                    <td><t t-esc="o.picking_type_id.name if o.picking_type_id else ''"/></td>
                                    <td><t t-esc="o.incoterm_id.name if o.incoterm_id else ''"/></td>
                                    <td><t t-esc="o.payment_term_id.name if o.payment_term_id else ''"/></td>
                                </tr>
                            </table>

                            <br/>

                            <!-- ================= LINE ITEMS ================= -->
                            <table>
                                <thead>
                                    <tr class="red center">
                                        <th style="width:5%;">#</th>
                                        <th style="width:45%;">Description</th>
                                        <th style="width:10%;">Qty</th>
                                        <th style="width:10%;">UOM</th>
                                        <th style="width:15%;">Unit Price</th>
                                        <th style="width:15%;">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-set="sr" t-value="1"/>
                                    <t t-foreach="o.order_line" t-as="line">
                                        <t t-if="line.display_type">
                                            <tr>
                                                <td colspan="6"><t t-esc="line.name"/></td>
                                            </tr>
                                        </t>
                                        <t t-else="">
                                            <tr>
                                                <td class="center"><t t-esc="sr"/></td>
                                                <td><t t-esc="line.name"/></td>
                                                <td class="center"><t t-esc="line.product_qty"/></td>
                                                <td class="center"><t t-esc="line.product_uom_id.name"/></td>
                                                <td class="right"><t t-esc="line.price_unit"/></td>
                                                <td class="right"><t t-esc="line.price_subtotal"/></td>
                                            </tr>
                                            <t t-set="sr" t-value="sr + 1"/>
                                        </t>
                                    </t>
                                </tbody>
                            </table>

                            <br/>

                            <!-- ================= NOTES / TOTALS ================= -->
                            <t t-set="notes" t-value="(o._fields.get('notes') and o.notes) or (o._fields.get('note') and o.note) or ''"/>
                            <t t-set="shipping_amount" t-value="o._fields.get('amount_delivery') and o.amount_delivery or 0.0"/>
                            <t t-set="discount_amount" t-value="o._fields.get('amount_discount') and o.amount_discount or 0.0"/>
                            <table class="no-border">
                                <tr>
                                    <td style="width:60%; vertical-align:top;">
                                        <span class="label">Additional Notes:</span><br/>
                                        <t t-raw="notes"/>
                                    </td>
                                    <td style="width:40%; vertical-align:top;">
                                        <table class="no-border totals" style="width:100%;">
                                            <tr>
                                                <td class="right label">SUBTOTAL</td>
                                                <td class="right"><t t-esc="o.amount_untaxed"/></td>
                                            </tr>
                                            <tr>
                                                <td class="right label">VAT 15%</td>
                                                <td class="right"><t t-esc="o.amount_tax"/></td>
                                            </tr>
                                            <tr>
                                                <td class="right label">SHIPPING</td>
                                                <td class="right"><t t-esc="shipping_amount"/></td>
                                            </tr>
                                            <tr>
                                                <td class="right label">DISCOUNT</td>
                                                <td class="right"><t t-esc="discount_amount"/></td>
                                            </tr>
                                            <tr>
                                                <td class="right label">TOTAL</td>
                                                <td class="right total-highlight"><t t-esc="o.amount_total"/></td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </t>
                </t>
            </t>
        </t>
    </template>

</odoo>
